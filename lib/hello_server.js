"use strict";
require('traceur-source-maps').install(require('traceur'));
var http = require('http');
var trycatch = require('trycatch');
var app = http.createServer((function(req, res) {
  trycatch((function() {
    res.writeHead(200);
    res.write('Hello world\n');
    setTimeout((function() {
      throw new Error('oh... poop');
      res.write('Second statement\n');
      res.end();
    }), 3000);
  }), (function(e) {
    console.log('Error: ', e.stack);
    res.write(e.stack);
    res.end();
  }));
}));
app.listen(8000, (function() {
  console.log('listening at http://localhost:8000');
}));
if (process.env.NODE_ENV !== 'production') {
  return require('safeguards').noSynchronousIO(module);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbGxvX3NlcnZlci5lczYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFNLEFBQUMsQ0FBQyxxQkFBb0IsQ0FBQyxRQUFRLEFBQUMsQ0FBQyxPQUFNLEFBQUMsQ0FBQyxTQUFRLENBQUMsQ0FBQyxDQUFDO0VBRXRELENBQUEsSUFBRyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsTUFBSyxDQUFDO0VBQ3JCLENBQUEsUUFBTyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsVUFBUyxDQUFDO0VBRzdCLENBQUEsR0FBRSxFQUFJLENBQUEsSUFBRyxhQUFhLEFBQUMsRUFBQyxTQUFDLEdBQUUsQ0FBRyxDQUFBLEdBQUU7QUFDbkMsU0FBTyxBQUFDLEVBQUMsU0FBQSxBQUFDO0FBQ1QsTUFBRSxVQUFVLEFBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQTtBQUNqQixNQUFFLE1BQU0sQUFBQyxDQUFDLGVBQWMsQ0FBQyxDQUFBO0FBQ3pCLGFBQVMsQUFBQyxFQUFDLFNBQUEsQUFBQyxDQUFLO0FBQ2hCLFVBQU0sSUFBSSxNQUFJLEFBQUMsQ0FBQyxZQUFXLENBQUMsQ0FBQTtBQUM1QixRQUFFLE1BQU0sQUFBQyxDQUFDLG9CQUFtQixDQUFDLENBQUE7QUFDOUIsUUFBRSxJQUFJLEFBQUMsRUFBQyxDQUFBO0lBQ1QsRUFBRyxLQUFHLENBQUMsQ0FBQTtFQUNSLElBQUcsU0FBQSxDQUFBLENBQUs7QUFDUCxVQUFNLElBQUksQUFBQyxDQUFDLFNBQVEsQ0FBRyxDQUFBLENBQUEsTUFBTSxDQUFDLENBQUE7QUFDOUIsTUFBRSxNQUFNLEFBQUMsQ0FBQyxDQUFBLE1BQU0sQ0FBQyxDQUFBO0FBQ2pCLE1BQUUsSUFBSSxBQUFDLEVBQUMsQ0FBQTtFQUNULEVBQUMsQ0FBQTtBQUNGLEVBQUM7QUFHRCxFQUFFLE9BQU8sQUFBQyxDQUFDLElBQUcsR0FBRyxTQUFBLEFBQUMsQ0FBSztBQUV0QixRQUFNLElBQUksQUFBQyxDQUFDLG9DQUFtQyxDQUFDLENBQUE7QUFDakQsRUFBQyxDQUFBO0FBRUQsR0FBSSxPQUFNLElBQUksU0FBUyxJQUFNLGFBQVcsQ0FBRztBQUUxQyxPQUFPLENBQUEsT0FBTSxBQUFDLENBQUMsWUFBVyxDQUFDLGdCQUFnQixBQUFDLENBQUMsTUFBSyxDQUFDLENBQUM7QUFDckQ7QUFBQSIsImZpbGUiOiJoZWxsb19zZXJ2ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCd0cmFjZXVyLXNvdXJjZS1tYXBzJykuaW5zdGFsbChyZXF1aXJlKCd0cmFjZXVyJykpOy8vIFN0YXJ0IG9mIG1haW4gdGljayAoU3luY2hyb25vdXMgSU8gT0spXG4vLyBSZXF1aXJlIHBoYXNlXG5sZXQgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKVxubGV0IHRyeWNhdGNoID0gcmVxdWlyZSgndHJ5Y2F0Y2gnKVxuXG4vLyBDb25maWd1cmUgcGhhc2UgKE5vIG1vcmUgc3luY2hyb25vdXMgSU8pXG5sZXQgYXBwID0gaHR0cC5jcmVhdGVTZXJ2ZXIoKHJlcSwgcmVzKSA9PiB7XG5cdHRyeWNhdGNoKCgpID0+IHtcblx0XHRyZXMud3JpdGVIZWFkKDIwMClcblx0XHRyZXMud3JpdGUoJ0hlbGxvIHdvcmxkXFxuJylcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignb2guLi4gcG9vcCcpXG5cdFx0XHRyZXMud3JpdGUoJ1NlY29uZCBzdGF0ZW1lbnRcXG4nKVxuXHRcdFx0cmVzLmVuZCgpXG5cdFx0fSwgMzAwMClcblx0fSwgZSA9PiB7XG5cdFx0Y29uc29sZS5sb2coJ0Vycm9yOiAnLCBlLnN0YWNrKVxuXHRcdHJlcy53cml0ZShlLnN0YWNrKVxuXHRcdHJlcy5lbmQoKVxuXHR9KVxufSlcblxuLy8gSW5pdGlhbGl6YXRpb24gUGhhc2UgKEFzeW5jaHJvbm91cyBJTyBPTkxZKVxuYXBwLmxpc3Rlbig4MDAwLCAoKSA9PiB7XG5cdC8vIEdlbmVyYWwgRXhlY3V0aW9uIFBoYXNlXG5cdGNvbnNvbGUubG9nKCdsaXN0ZW5pbmcgYXQgaHR0cDovL2xvY2FsaG9zdDo4MDAwJylcbn0pXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdC8vIFRISVMgTVVTVCBCRSBUSEUgTEFTVCBMSU5FIEVYRUNVVEVEIElOIFRIRSBNQUlOIE1PRFVMRVxuXHRyZXR1cm4gcmVxdWlyZSgnc2FmZWd1YXJkcycpLm5vU3luY2hyb25vdXNJTyhtb2R1bGUpO1xufVxuLy8gRW5kIG9mIG1haW4gdGljayAiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=